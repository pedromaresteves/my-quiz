(this["webpackJsonpmy-quizz"]=this["webpackJsonpmy-quizz"]||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),u=a(21),l=a.n(u),s=(a(29),a(11)),c=a(8),i=a(9),o=a(6),m=a(4);var f=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement(m.b,{className:"not-normal-link",to:"/"},r.a.createElement("h1",null,"My Quiz")))};var d=function(e){return r.a.createElement("div",{id:"home"},r.a.createElement(m.b,{to:"/game-menu"},r.a.createElement("button",null,"start quiz")))},E=a(15),p=a(14),b=a.n(p),h=b.a.sanitize;var g=function(e,t){var a=e.toUpperCase(),n=t.toUpperCase();return a<n?-1:a>n?1:0},v=function(e){var t=e.questions.currentQuestionNum,a=e.questions.results[t],u=[].concat(Object(E.a)(a.incorrect_answers),[a.correct_answer]),l=Object(n.useRef)(null),s=function(a){var n=Array.from(l.current.children),r=e.playerData.answers;n.forEach((function(e){e.classList.remove("active-answer")})),r[t]=a.target.textContent,e.updatePlayerData("answers",r),a.target.classList.add("active-answer")};return u.sort(g),r.a.createElement("div",null,r.a.createElement("h4",{dangerouslySetInnerHTML:{__html:h(a.question)}}),r.a.createElement("div",{id:"possible-answers-list",ref:l},u.map((function(t){return r.a.createElement("button",{key:h(t),className:"answer-btn",disabled:!e.time.timeLeft,onClick:s,dangerouslySetInnerHTML:{__html:h(t)}})}))))},y=b.a.sanitize;function O(e){var t=w(e.questions,e.playerData);return r.a.createElement("div",{id:"results"},r.a.createElement("h1",null,"Results"),r.a.createElement("h2",null,e.playerData.name," score: ",t,"/",e.questions.results.length),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"3"},"Here are your results"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Question"),r.a.createElement("th",null,"Correct Answer"),r.a.createElement("th",null,e.playerData.name)),e.questions.results.map((function(t){var a=e.playerData.answers[e.questions.results.indexOf(t)];return r.a.createElement("tr",{key:t.question},r.a.createElement("td",{dangerouslySetInnerHTML:{__html:y(t.question)}}),r.a.createElement("td",{dangerouslySetInnerHTML:{__html:y(t.correct_answer)}}),r.a.createElement("td",{className:a===t.correct_answer?"correct":"incorrect",dangerouslySetInnerHTML:{__html:y(a)}}))})))),r.a.createElement(m.b,{to:"/"},r.a.createElement("button",null,"Back to Homepage")))}var w=function(e,t){var a=0;return e.results.forEach((function(n){t.answers[e.results.indexOf(n)]===n.correct_answer&&a++})),a};var q=function(e,t){var a={timeLeft:t,timeRunning:!0};return e&&(a.gameOn=!1,a.timeRunning=!1),a},D=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),u=a[0],l=a[1];Object(n.useEffect)((function(){u>0||(e.resetTimeData(!0),fetch("https://opentdb.com/api.php?amount=".concat(e.questions.numberOfQuestions)).then((function(e){return e.json()})).then((function(t){0===t.response_code&&e.updateQuestions("results",t.results)})),l(1))}),[e,u]);var s=e.questions.currentQuestionNum,c=Object(n.useRef)(null);return r.a.createElement("div",null,e.time.gameOn?r.a.createElement("div",null,r.a.createElement("p",null,"Clock's ticking: ",r.a.createElement("strong",null,e.time.timeLeft)),r.a.createElement(v,{questions:e.questions,playerData:e.playerData,time:e.time,updatePlayerData:e.updatePlayerData}),r.a.createElement("button",{className:"next-question-btn",onClick:function(){var t=s+1,a=t===e.questions.results.length;e.playerData.answers[s]||e.updatePlayerData("answers",[].concat(Object(E.a)(e.playerData.answers),[null]));var n=q(a,e.questionTime);e.updateQuestions("currentQuestionNum",t),e.resetTimer(),e.updateTime(n)}},"Next")):e.questions.currentQuestionNum?r.a.createElement(O,{questions:e.questions,playerData:e.playerData}):r.a.createElement("div",null,r.a.createElement("h4",null,"Press the button to start the game."),r.a.createElement("button",{id:"start-game",onClick:function(){e.handleTime(),c.current.disabled=!0},ref:c},"Start Countdown"),e.time.timeRunning?r.a.createElement("p",null,"You have ",e.time.timeLeft," seconds to get ready"):r.a.createElement("p",null,"You'll have 3 seconds to get ready")))};var j=function(e){var t=function(t){var a=t.target.name,n=t.target.value;return"name"===a?e.updatePlayerData(a,n):(Number(n)&&(n=Number(n)),e.updateQuestions(a,n))};return r.a.createElement("div",{id:"game-menu"},r.a.createElement("h2",null,"Welcome to the Game Menu"),r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Insert your name "),r.a.createElement("input",{name:"name",defaultValue:e.playerData.name,onChange:t})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"numberOfQuestions"},"Set Number Of Questions: "),r.a.createElement("select",{name:"numberOfQuestions",defaultValue:e.questions.numberOfQuestions,onChange:t},r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15"))),r.a.createElement("div",{className:"form-group"},r.a.createElement(m.b,{to:"game"},r.a.createElement("button",{type:"submit",onClick:function(){return e.resetTimeData(!0),e.updatePlayerData("answers",[]),e.updateQuestions("currentQuestionNum",0)}},"Create Game")))))};var L,Q=function(){return r.a.createElement("p",null,"Page Not Found")};a(35);var T=function(){var e=Object(n.useState)({gameMode:"default",categories:"all",numberOfQuestions:5,currentQuestionNum:0,results:[]}),t=Object(i.a)(e,2),a=t[0],u=t[1],l=Object(n.useState)({name:"Player 1",answers:[]}),m=Object(i.a)(l,2),E=m[0],p=m[1],b=Object(n.useState)({timeLeft:45,timeRunning:!1,gameOn:!1}),h=Object(i.a)(b,2),g=h[0],v=h[1],y=function(){clearTimeout(L)},O=function(e){var t={timeLeft:45,timeRunning:!1,gameOn:!1};e&&(t.timeLeft=3),T(t),y()},w=function(e,t){return p(Object(c.a)({},E,Object(s.a)({},e,t)))},q=function(e,t){return u(Object(c.a)({},a,Object(s.a)({},e,t)))},T=function(e){v(Object(c.a)({},g,{},e))},N=Object(n.useCallback)((function(){L=setTimeout((function(){if(!g.timeLeft){if(g.gameOn)return v(Object(c.a)({},g,{timeLeft:0,timeRunning:!1}));v(Object(c.a)({},g,{timeLeft:45,gameOn:!0,timeRunning:!0}))}if(g.timeLeft)return v(Object(c.a)({},g,{timeLeft:--g.timeLeft,timeRunning:!0}))}),1e3)}),[g]);return Object(n.useEffect)((function(){if(g.timeRunning)return N()}),[g,N]),r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(d,null)),r.a.createElement(o.a,{path:"/game-menu"},r.a.createElement(j,{playerData:E,questions:a,updateQuestions:q,updatePlayerData:w,resetTimeData:O})),r.a.createElement(o.a,{path:"/game"},r.a.createElement(D,{playerData:E,questions:a,updateQuestions:q,time:g,questionTime:45,resetTimer:y,updateTime:T,updatePlayerData:w,handleTime:N,resetTimeData:O})),r.a.createElement(o.a,null,r.a.createElement(Q,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{basename:"/my-quiz"},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.834d349c.chunk.js.map